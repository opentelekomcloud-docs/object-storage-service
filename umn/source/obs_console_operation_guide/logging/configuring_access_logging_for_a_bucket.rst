:original_name: obs_03_0329.html

.. _obs_03_0329:

Configuring Access Logging for a Bucket
=======================================

After logging is enabled for a bucket, OBS automatically converts bucket logs into objects following the naming rules and writes the objects into a target bucket.

Procedure
---------

#. In the bucket list, click the bucket to be operated. The **Overview** page of the bucket is displayed.

#. In the right **Basic Configurations** area, click **Logging**. The **Logging** dialog box is displayed.

#. Select **Enable**. For details, see :ref:`Figure 1 <obs_03_0329__fig17700501192958>`.

   .. _obs_03_0329__fig17700501192958:

   .. figure:: /_static/images/en-us_image_0130855314.png
      :alt: **Figure 1** Logging

      **Figure 1** Logging

#. Select an existing bucket where you want to store log files. Log delivery users of the selected bucket will be automatically assigned with the permission to read the bucket ACL and write logs to the bucket.

#. Enter a prefix for the **Log File Name Prefix**.

   After logging is enabled, generated logs are named in the following format:

   *<Log File Name Prefix>*\ YYYY-mm-DD-HH-MM-SS-*<UniqueString>*

   -  *<Log File Name Prefix>* is the shared prefix of log file names.
   -  **YYYY-mm-DD-HH-MM-SS** indicates the date and time when the log is generated.
   -  *<UniqueString>* indicates a character string generated by OBS.

   On OBS Console, if configured <TargetPrefix> ends with a slash (/), logs generated in the bucket are stored on OBS Console; if configured *<Log File Name Prefix>* ends with a slash (/), logs generated in the bucket are stored in the *<Log File Name Prefix>* folder in the bucket, facilitating the management of log files.

   Example:

   -  If the bucket named **bucket** is selected to save log files, and the log file name prefix is set to **bucket-log/**, all log files delivered to the bucket are saved in the **bucket-log** folder. A log file is named as follows: **2015-06-29-12-22-07-N7MXLAF1BDG7MPDV**.
   -  If the bucket named **bucket** is selected to save log files, and the log file name prefix is set to **bucket-log**, then no folder is created for log files delivered to the bucket. A log file is named as follows: **bucket-log2015-06-29-12-22-07-N7MXLAF1BDG7MPDV**.

#. Click **OK**.

   After logging is configured, you can view operation logs in the bucket that stores the logs in approximately fifteen minutes.

Follow-up Procedure
-------------------

If you do not need to record logs, click **Disable** in the **Logging** dialog box and then click **OK**. After logging is disabled, logs are not recorded, but existing logs in the target bucket will be retained.
