:original_name: obs_04_0091.html

.. _obs_04_0091:

Modifying Object Metadata
=========================

Functions
---------

This operation modifies, deletes, or adds metadata to uploaded objects in a bucket.

Request Syntax
--------------

.. code-block:: text

   PUT /ObjectName?metadata HTTP/1.1
   Host: bucketname.obs.region.example.com
   Content-Type: application/xml
   Content-Length: length
   Authorization: authorization
   Date: date
   <Optional Additional Header>
   <object Content>

Request Parameters
------------------

.. table:: **Table 1** Request parameters

   +-----------------+-----------------+--------------------+---------------------------------------+
   | Parameter       | Type            | Mandatory (Yes/No) | Description                           |
   +=================+=================+====================+=======================================+
   | versionId       | String          | No                 | **Definition**:                       |
   |                 |                 |                    |                                       |
   |                 |                 |                    | Version ID of the object.             |
   |                 |                 |                    |                                       |
   |                 |                 |                    | **Constraints**:                      |
   |                 |                 |                    |                                       |
   |                 |                 |                    | None                                  |
   |                 |                 |                    |                                       |
   |                 |                 |                    | **Range**:                            |
   |                 |                 |                    |                                       |
   |                 |                 |                    | The value must contain 32 characters. |
   |                 |                 |                    |                                       |
   |                 |                 |                    | **Default value**:                    |
   |                 |                 |                    |                                       |
   |                 |                 |                    | None                                  |
   +-----------------+-----------------+--------------------+---------------------------------------+

Request Headers
---------------

.. note::

   OBS supports the six HTTP request headers: Cache-Control, Expires, Content-Encoding, Content-Disposition, Content-Type, and Content-Language. It saves these header values in the metadata of the object. When the object is downloaded or queried, the saved values are set for corresponding HTTP headers and returned to the client.

.. table:: **Table 2** Request headers

   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Header                          | Type            | Mandatory (Yes/No) | Description                                                                                                                                                                                                                                                     |
   +=================================+=================+====================+=================================================================================================================================================================================================================================================================+
   | x-obs-metadata-directive        | String          | Yes                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | Metadata operation directive.                                                                                                                                                                                                                                   |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | If you want to change the storage class of an object by modifying its metadata, **x-obs-metadata-directive** must be set to **REPLACE_NEW**.                                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | -  **REPLACE_NEW**: The metadata that has an existing value is replaced. A value is assigned to the metadata that does not have a value. The metadata that is not specified remains unchanged. Custom metadata is replaced.                                     |
   |                                 |                 |                    | -  **REPLACE**: All original metadata is replaced by metadata specified in the request. Metadata that is not specified (except for **x-obs-storage-class**) is deleted.                                                                                         |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Cache-Control                   | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | It specifies the cache behavior of the web page when an object is downloaded.                                                                                                                                                                                   |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | See the Cache-Control values defined in HTTP.                                                                                                                                                                                                                   |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Disposition             | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | It specifies the name of an object when it is downloaded.                                                                                                                                                                                                       |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | See the Content-Disposition values defined in HTTP.                                                                                                                                                                                                             |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Encoding                | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | It specifies the content encoding format when an object is downloaded.                                                                                                                                                                                          |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | See the Content-Encoding values defined in HTTP.                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Language                | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | It specifies the content language format when an object is downloaded.                                                                                                                                                                                          |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | See the Content-Language values defined in HTTP.                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Type                    | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | It specifies the file type of an object when it is downloaded.                                                                                                                                                                                                  |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | For details about the common content types, see `About Object Metadata Content-Type <https://docs.otc.t-systems.com/object-storage-service/umn/obs_console_operation_guide/object_metadata/about_object_metadata_content-type.html>`__.                         |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Expires                         | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | It specifies the expiration time of a cached web page when an object is downloaded.                                                                                                                                                                             |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | .. caution::                                                                                                                                                                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |    CAUTION:                                                                                                                                                                                                                                                     |
   |                                 |                 |                    |    This parameter is not used to set the object expiration time.                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | See the Expires values defined in HTTP.                                                                                                                                                                                                                         |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-website-redirect-location | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | If the bucket is configured with website hosting, the request for obtaining the object can be redirected to another object in the bucket or an external URL.                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | In the following example, the request header sets the redirection to an object (**anotherPage.html**) in the same bucket:                                                                                                                                       |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | x-obs-website-redirect-location:/anotherPage.html                                                                                                                                                                                                               |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | In the following example, the request header sets the object redirection to an external URL:                                                                                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | x-obs-website-redirect-location:http://www.example.com/                                                                                                                                                                                                         |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | The value must start with a slash (/), **http://**, or **https://** and cannot exceed 2 KB.                                                                                                                                                                     |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-storage-class             | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | Specifies the storage class of an object.                                                                                                                                                                                                                       |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | Example: **x-obs-storage-class: STANDARD**                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | The value is case-sensitive.                                                                                                                                                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | -  STANDARD                                                                                                                                                                                                                                                     |
   |                                 |                 |                    | -  WARM                                                                                                                                                                                                                                                         |
   |                                 |                 |                    | -  COLD                                                                                                                                                                                                                                                         |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-meta-\*                   | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | Custom metadata of the object. You can add a header starting with **x-obs-meta-** in the request to define metadata. The custom metadata will be returned in the response when you retrieve the object or query the object metadata.                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | Example: **x-obs-meta-test: test metadata**                                                                                                                                                                                                                     |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | -  The total size of all custom metadata cannot exceed 8K. To measure the size, calculate the sum of bytes of all UTF-8 encoded keys and values.                                                                                                                |
   |                                 |                 |                    | -  The custom metadata keys are case-insensitive, but are stored in lowercase by OBS. The key values are case-sensitive.                                                                                                                                        |
   |                                 |                 |                    | -  Both custom metadata keys and their values must conform to US-ASCII standards. If non-ASCII or unrecognizable characters are required, they must be encoded and decoded in URL or Base64 on the client, because the server does not perform such operations. |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-tagging                   | String          | No                 | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | An object's tag information in key-value pairs. Multiple tags can be added at the same time.                                                                                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | Example: **x-obs-tagging:TagA=A&TagB&TagC**                                                                                                                                                                                                                     |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | -  If a tag key or value contains special characters, equal signs (=), or full-width characters, it must be URL-encoded.                                                                                                                                        |
   |                                 |                 |                    | -  If there is no equal sign (=) in a configuration, the tag value is considered left blank.                                                                                                                                                                    |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                 |                    |                                                                                                                                                                                                                                                                 |
   |                                 |                 |                    | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Elements
----------------

This request involves no elements.

Response Syntax
---------------

::

   HTTP/1.1 status_code
   Date: date
   Content-Length: length
   Etag: etag
   Last-Modified: time

Response Headers
----------------

.. table:: **Table 3** Additional response headers

   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Header                          | Type                  | Description                                                                                                                                                                                                                                                     |
   +=================================+=======================+=================================================================================================================================================================================================================================================================+
   | x-obs-metadata-directive        | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | Metadata operation directive.                                                                                                                                                                                                                                   |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | -  **REPLACE_NEW**: The metadata that has an existing value is replaced. A value is assigned to the metadata that does not have a value. The metadata that is not specified remains unchanged. Custom metadata is replaced.                                     |
   |                                 |                       | -  **REPLACE**: All original metadata is replaced by metadata specified in the request. Metadata that is not specified (except for **x-obs-storage-class**) is deleted.                                                                                         |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Cache-Control                   | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | It specifies the cache behavior of the web page when an object is downloaded.                                                                                                                                                                                   |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | If a request carries this header field, the response message must contain this header field.                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | See the Cache-control values defined in HTTP.                                                                                                                                                                                                                   |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Disposition             | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | It specifies the name of an object when it is downloaded.                                                                                                                                                                                                       |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | If a request carries this header field, the response message must contain this header field.                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | See the Content-Disposition values defined in HTTP.                                                                                                                                                                                                             |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Encoding                | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | It specifies the content encoding format when an object is downloaded.                                                                                                                                                                                          |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | If a request carries this header field, the response message must contain this header field.                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | See the Content-Encoding values defined in HTTP.                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Content-Language                | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | It specifies the content language format when an object is downloaded.                                                                                                                                                                                          |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | If a request carries this header field, the response message must contain this header field.                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | See the Content-Language values defined in HTTP.                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Expires                         | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | It specifies the expiration time of a cached web page when an object is downloaded.                                                                                                                                                                             |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | If a request carries this header field, the response message must contain this header field.                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | See the Expires values defined in HTTP.                                                                                                                                                                                                                         |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-website-redirect-location | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | If the bucket is configured with website hosting, the request for obtaining the object can be redirected to another object in the bucket or an external URL.                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | In the following example, the request header sets the redirection to an object (**anotherPage.html**) in the same bucket:                                                                                                                                       |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | x-obs-website-redirect-location:/anotherPage.html                                                                                                                                                                                                               |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | In the following example, the request header sets the object redirection to an external URL:                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | x-obs-website-redirect-location:http://www.example.com/                                                                                                                                                                                                         |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | -  If a request carries this header field, the response message must contain this header field.                                                                                                                                                                 |
   |                                 |                       | -  The value must start with a slash (/), **http://**, or **https://** and cannot exceed 2 KB.                                                                                                                                                                  |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-storage-class             | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | It specifies the storage class of an object.                                                                                                                                                                                                                    |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | -  If a request carries this header field, the response message must contain this header field.                                                                                                                                                                 |
   |                                 |                       | -  The value is case-sensitive.                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | -  STANDARD                                                                                                                                                                                                                                                     |
   |                                 |                       | -  WARM                                                                                                                                                                                                                                                         |
   |                                 |                       | -  COLD                                                                                                                                                                                                                                                         |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | x-obs-meta-\*                   | String                | **Definition**:                                                                                                                                                                                                                                                 |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | Custom metadata of the object. You can add custom metadata headers that start with **x-obs-meta-** for easy object management. When you retrieve or query the metadata of the object, the added custom metadata headers will be returned in the response.       |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Constraints**:                                                                                                                                                                                                                                                |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | -  If a request carries this header field, the response message must contain this header field.                                                                                                                                                                 |
   |                                 |                       | -  The total size of all custom metadata cannot exceed 8K. To measure the size, calculate the sum of bytes of all UTF-8 encoded keys and values.                                                                                                                |
   |                                 |                       | -  The custom metadata keys are case-insensitive, but are stored in lowercase by OBS. The key values are case-sensitive.                                                                                                                                        |
   |                                 |                       | -  Both custom metadata keys and their values must conform to US-ASCII standards. If non-ASCII or unrecognizable characters are required, they must be encoded and decoded in URL or Base64 on the client, because the server does not perform such operations. |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Range**:                                                                                                                                                                                                                                                      |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | **Default value**:                                                                                                                                                                                                                                              |
   |                                 |                       |                                                                                                                                                                                                                                                                 |
   |                                 |                       | None                                                                                                                                                                                                                                                            |
   +---------------------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Elements
-----------------

This response contains no elements.

Error Responses
---------------

No special error responses are returned. For details about error responses, see :ref:`Table 2 <obs_04_0115__d0e843>`.

Sample Request: Adding Metadata for an Object
---------------------------------------------

Add the following metadata to the object: **Content-Type:application/zip** and **x-obs-meta-test:meta**.

.. code-block:: text

   PUT /object?metadata HTTP/1.1
   User-Agent: curl/7.29.0
   Host: examplebucket.obs.region.example.com
   Accept: */*
   Date: WED, 01 Jul 2015 14:24:33 GMT
   Authorization: OBS H4IPJX0TQTHTHEBQQCEC:NxtSMS0jaVxlLnxlO9awaMTn47s=
   x-obs-metadata-directive:REPLACE_NEW
   Content-Type:application/zip
   x-obs-meta-test:meta

Sample Response: Adding Metadata for an Object
----------------------------------------------

::

   HTTP/1.1 200 OK
   Server: OBS
   x-obs-request-id: 8DF400000163D3E4BB5905C41B6E65B6
   Accept-Ranges: bytes
   x-obs-id-2: 32AAAQAAEAABAAAQAAEAABAAAQAAEAABCSD3nAiTaBoeyt9oHp9vTYtXnLDmwV6D
   Date: WED, 01 Jul 2015 04:19:21 GMT
   Content-Length: 0
   x-obs-metadata-directive:REPLACE_NEW
   x-obs-meta-test:meta

Sample Request: Editing Metadata of an Object
---------------------------------------------

If metadata **x-obs-meta-test:testmeta** exists in the object and the value of **x-obs-storage-class** is **WARM**, change the metadata **x-obs-meta-test** of the object to **newmeta** and change **x-obs-storage-class** to **COLD**.

.. code-block:: text

   PUT /object?metadata HTTP/1.1
   User-Agent: curl/7.29.0
   Host: examplebucket.obs.region.example.com
   Accept: */*
   Date: WED, 01 Jul 2015 14:24:33 GMT
   Authorization: OBS H4IPJX0TQTHTHEBQQCEC:NxtSMS0jaVxlLnxlO9awaMTn47s=
   x-obs-metadata-directive:REPLACE_NEW
   x-obs-meta-test:newmeta
   x-obs-storage-class:COLD

Sample Response: Editing Metadata of an Object
----------------------------------------------

::

   HTTP/1.1 200 OK
   Server: OBS
   x-obs-request-id: 8DF400000163D3E4BB5905C41B6E65B6
   Accept-Ranges: bytes
   x-obs-id-2: 32AAAQAAEAABAAAQAAEAABAAAQAAEAABCSD3nAiTaBoeyt9oHp9vTYtXnLDmwV6D
   Date: WED, 01 Jul 2015 04:19:21 GMT
   Content-Length: 0
   x-obs-metadata-directive:REPLACE_NEW
   x-obs-meta-test:newmeta
   x-obs-storage-class:COLD

Sample Request: Deleting Metadata of an Object
----------------------------------------------

Metadata **x-obs-meta-test:newmeta** and **Content-Type:application/zip** exist in the object, and delete **x-obs-meta-test**.

.. code-block:: text

   PUT /object?metadata HTTP/1.1
   User-Agent: curl/7.29.0
   Host: examplebucket.obs.region.example.com
   Accept: */*
   Date: WED, 01 Jul 2015 14:24:33 GMT
   Authorization: OBS H4IPJX0TQTHTHEBQQCEC:NxtSMS0jaVxlLnxlO9awaMTn47s=
   x-obs-metadata-directive:REPLACE
   Content-Type:application/zip

Sample Response: Deleting Metadata of an Object
-----------------------------------------------

::

   HTTP/1.1 200 OK
   Server: OBS
   x-obs-request-id: 8DF400000163D3E4BB5905C41B6E65B6
   Accept-Ranges: bytes
   x-obs-id-2: 32AAAQAAEAABAAAQAAEAABAAAQAAEAABCSD3nAiTaBoeyt9oHp9vTYtXnLDmwV6D
   Date: WED, 01 Jul 2015 04:19:21 GMT
   Content-Length: 0
   x-obs-metadata-directive:REPLACE
